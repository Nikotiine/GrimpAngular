<div class="box">
  <h1 class="title is-2 has-text-centered">Formulaire d'enregistrement</h1>
</div>

<form name="form" class="register-form" [formGroup]="registerForm">
  <div class="field">
    <label class="label">Pseudo</label>
    <div class="control">
      <input
        class="input"
        type="text"
        name="nickName"
        placeholder="Pseudo"
        formControlName="nickName" />
    </div>
  </div>
  <div class="field">
    <label class="label">Nom</label>
    <div class="control">
      <input
        class="input"
        type="text"
        name="lastName"
        placeholder="Nom"
        formControlName="lastName" />
    </div>
  </div>
  <div class="field">
    <label class="label">Prenom</label>
    <div class="control">
      <input
        class="input"
        type="text"
        name="firstName"
        placeholder="Prenom"
        formControlName="firstName" />
    </div>
  </div>

  <div class="field">
    <label class="label">Email</label>
    <div class="control">
      <input
        class="input"
        type="email"
        [ngClass]="{
          'is-danger': emailInputIsValid(),
          'is-success': registerForm.controls['email'].valid
        }"
        name="email"
        placeholder="ex: johndoe@gmail.com"
        formControlName="email" />
      <span *ngIf="emailInputIsValid()" class="has-text-danger"
        >Adresse mail invalide</span
      >
    </div>
  </div>
  <div class="field">
    <label class="label">Mot de passe</label>
    <div class="control">
      <input
        class="input"
        type="password"
        name="password"
        placeholder="******"
        formControlName="password" />
    </div>
  </div>
  <div class="field">
    <label class="label">Date de naissance</label>
    <div class="control">
      <input
        class="input"
        type="date"
        name="birthday"
        formControlName="birthday" />
    </div>
  </div>
  <div class="control">
    <label class="radio">
      <input type="radio" name="sex" value="M" formControlName="sex" />
      homme
    </label>
    <label class="radio">
      <input type="radio" name="sex" value="F" formControlName="sex" />
      femme
    </label>
  </div>
  <div class="field is-grouped is-justify-content-flex-end">
    <div class="control">
      <button
        class="button is-link"
        (click)="register()"
        [disabled]="!registerForm.valid">
        Submit
      </button>
    </div>
    <div class="control">
      <a [routerLink]="['']" class="button is-link is-light">Cancel</a>
    </div>
  </div>
</form>
<app-errors-taost *ngIf="isInvalid" [message]="errorMessage"></app-errors-taost>
